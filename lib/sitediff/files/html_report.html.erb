<!DOCTYPE html>
<html>
  <head>
    <!-- important: otherwise chrome will choke on non-ascii characters -->
    <meta charset="utf-8" />
    <style>
      <%= SiteDiff::Diff.css %>
    </style>
    <title> SiteDiff Report </title>
  </head>
  <body>
    <div class="sitediff">
      <div class="legend">
        <strong>before</strong> (base url): <a href="<%=before%>"><%=before%></a> |
        <strong>after </strong> (base url): <a href="<%=after%>" ><%=after %></a>
      </div>
      <table class="results">

        <colgroup>
          <col class="before-col">
          <col class="after-col">
          <col class="path-col">
          <col class="diff-stat-col">
        </colgroup>

        <thead>
          <tr>
            <th> Before </th>
            <th> After </th>
            <th> Path </th>
            <th> Status </th>
          </tr>
        </thead>

        <% results.each do |result| %>
        <tr class="<%= result.status_text %>">
          <td class="before"><a href="<%= result.url(:before, before) %>">[before]</a></td>
          <td class="after"><a href="<%= result.url(:after, after) %>">[after]</a></td>
          <td class="path"><%= result.path %></td>
          <td class="status"><%= result.link %></td>
        </tr>
        <% end %>

      </table>
    </div>
  </body>
</html>
